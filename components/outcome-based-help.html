<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ich m√∂chte... - Outcome-Based Help Pattern</title>
    <style>
        /* ===========================
           CSS CUSTOM PROPERTIES
           =========================== */
        :root {
            /* Colors - Calm, trust-building palette */
            --color-primary: #4A7C7E;
            --color-primary-light: #6B9B9D;
            --color-primary-dark: #2F5456;
            --color-background: #F8F9FA;
            --color-card: #FFFFFF;
            --color-text-primary: #2C3E50;
            --color-text-secondary: #5A6C7D;
            --color-border: #E1E8ED;
            --color-focus: #4A7C7E;
            --color-hover-bg: #F0F7F8;

            /* Spacing */
            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            /* Typography */
            --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            --font-size-base: 1rem;
            --font-size-lg: 1.125rem;
            --font-size-xl: 1.5rem;
            --font-size-2xl: 2rem;
            --line-height-base: 1.6;
            --line-height-tight: 1.3;

            /* Effects */
            --transition-base: 0.2s ease-in-out;
            --transition-lift: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
            --border-radius: 12px;
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            :root {
                --transition-base: 0.01ms;
                --transition-lift: 0.01ms;
            }

            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* ===========================
           BASE STYLES
           =========================== */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            font-size: var(--font-size-base);
            line-height: var(--line-height-base);
            color: var(--color-text-primary);
            background-color: var(--color-background);
            padding: var(--spacing-lg);
        }

        /* ===========================
           COMPONENT CONTAINER
           =========================== */
        .outcome-help {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-xl) var(--spacing-lg);
        }

        .outcome-help__header {
            text-align: center;
            margin-bottom: var(--spacing-xl);
        }

        .outcome-help__title {
            font-size: var(--font-size-2xl);
            font-weight: 600;
            color: var(--color-primary-dark);
            line-height: var(--line-height-tight);
            margin-bottom: var(--spacing-sm);
        }

        .outcome-help__subtitle {
            font-size: var(--font-size-lg);
            color: var(--color-text-secondary);
            font-weight: 400;
            max-width: 600px;
            margin: 0 auto;
        }

        /* ===========================
           GRID LAYOUT
           =========================== */
        .outcome-help__grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--spacing-lg);
            list-style: none;
            padding: 0;
            margin: 0;
        }

        /* Responsive grid adjustments */
        @media (min-width: 640px) {
            .outcome-help__grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .outcome-help__grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        /* ===========================
           OPTION CARDS
           =========================== */
        .option-card {
            background: var(--color-card);
            border: 2px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            transition: all var(--transition-lift);
            cursor: pointer;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            text-decoration: none;
            color: inherit;
            box-shadow: var(--shadow-sm);
        }

        /* 70% capturing state (default) */
        .option-card:hover,
        .option-card:focus-within {
            /* 30% pushing - subtle lift and emphasis */
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
            border-color: var(--color-primary-light);
            background-color: var(--color-hover-bg);
        }

        /* Focus state for keyboard navigation */
        .option-card:focus {
            outline: 3px solid var(--color-focus);
            outline-offset: 2px;
        }

        .option-card:focus:not(:focus-visible) {
            outline: none;
        }

        .option-card:focus-visible {
            outline: 3px solid var(--color-focus);
            outline-offset: 2px;
        }

        /* Active state */
        .option-card:active {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Selected state */
        .option-card.is-selected {
            border-color: var(--color-primary);
            background-color: var(--color-hover-bg);
            box-shadow: var(--shadow-md);
        }

        /* ===========================
           CARD CONTENT
           =========================== */
        .option-card__icon {
            width: 48px;
            height: 48px;
            margin-bottom: var(--spacing-md);
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--color-primary-light);
            border-radius: 50%;
            color: white;
            font-size: 24px;
            transition: transform var(--transition-base);
        }

        .option-card:hover .option-card__icon,
        .option-card:focus-within .option-card__icon {
            transform: scale(1.1);
            background-color: var(--color-primary);
        }

        .option-card__label {
            font-size: var(--font-size-lg);
            font-weight: 600;
            color: var(--color-primary-dark);
            margin-bottom: var(--spacing-xs);
            line-height: var(--line-height-tight);
        }

        .option-card__description {
            font-size: var(--font-size-base);
            color: var(--color-text-secondary);
            line-height: var(--line-height-base);
            flex-grow: 1;
        }

        /* ===========================
           ACCESSIBILITY
           =========================== */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .option-card {
                border-width: 3px;
            }

            .option-card:hover,
            .option-card:focus-within {
                border-width: 3px;
            }
        }

        /* ===========================
           LOADING STATE
           =========================== */
        .option-card.is-loading {
            pointer-events: none;
            opacity: 0.6;
        }

        .option-card.is-loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 24px;
            height: 24px;
            margin: -12px 0 0 -12px;
            border: 3px solid var(--color-primary-light);
            border-top-color: var(--color-primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===========================
           RESPONSIVE ADJUSTMENTS
           =========================== */
        @media (max-width: 639px) {
            .outcome-help {
                padding: var(--spacing-lg) var(--spacing-sm);
            }

            .outcome-help__title {
                font-size: var(--font-size-xl);
            }

            .outcome-help__grid {
                gap: var(--spacing-md);
            }
        }
        /* Skip Link (Accessibility) */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--color-primary, #4A7C8C);
            color: #fff;
            padding: 8px 16px;
            text-decoration: none;
            z-index: 1000;
            border-radius: 0 0 4px 0;
        }
        .skip-link:focus {
            top: 0;
        }
        /* Back to Catalog Link */
        .back-to-catalog {
            position: fixed;
            top: 1rem;
            left: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: #4A7C8C;
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid #E8E4DD;
            border-radius: 6px;
            text-decoration: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: all 0.2s ease;
        }
        .back-to-catalog:hover {
            background: #4A7C8C;
            color: white;
            border-color: #4A7C8C;
        }
        .back-to-catalog:focus {
            outline: 2px solid #4A7C8C;
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <a href="../index.html" class="back-to-catalog">‚Üê Back to Catalog</a>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- ===========================
         OUTCOME-BASED HELP COMPONENT
         =========================== -->
    <section class="outcome-help" id="main-content" aria-labelledby="outcome-help-title">
        <header class="outcome-help__header">
            <h2 id="outcome-help-title" class="outcome-help__title">
                Ich m√∂chte...
            </h2>
            <p class="outcome-help__subtitle">
                W√§hlen Sie aus, was Sie erreichen m√∂chten. Wir f√ºhren Sie zu den passenden Informationen.
            </p>
        </header>

        <ul class="outcome-help__grid" role="list">
            <!-- Option 1: Understand my situation -->
            <li role="listitem">
                <a
                    href="#understand-situation"
                    class="option-card"
                    data-option="understand"
                    role="button"
                    aria-label="Meine Situation verstehen - Informationen √ºber Dissoziation und ihre Auswirkungen erhalten"
                >
                    <div class="option-card__icon" aria-hidden="true">
                        üß≠
                    </div>
                    <h3 class="option-card__label">
                        ...meine Situation verstehen
                    </h3>
                    <p class="option-card__description">
                        Informationen √ºber Dissoziation und ihre Auswirkungen erhalten
                    </p>
                </a>
            </li>

            <!-- Option 2: Find immediate help -->
            <li role="listitem">
                <a
                    href="#immediate-help"
                    class="option-card"
                    data-option="help"
                    role="button"
                    aria-label="Sofort Hilfe bekommen - Krisenunterst√ºtzung und Notfallkontakte finden"
                >
                    <div class="option-card__icon" aria-hidden="true">
                        üÜò
                    </div>
                    <h3 class="option-card__label">
                        ...sofort Hilfe bekommen
                    </h3>
                    <p class="option-card__description">
                        Krisenunterst√ºtzung und Notfallkontakte finden
                    </p>
                </a>
            </li>

            <!-- Option 3: Learn coping strategies -->
            <li role="listitem">
                <a
                    href="#coping-strategies"
                    class="option-card"
                    data-option="coping"
                    role="button"
                    aria-label="Bew√§ltigungsstrategien lernen - Praktische Techniken f√ºr den Alltag entdecken"
                >
                    <div class="option-card__icon" aria-hidden="true">
                        üõ†Ô∏è
                    </div>
                    <h3 class="option-card__label">
                        ...Bew√§ltigungsstrategien lernen
                    </h3>
                    <p class="option-card__description">
                        Praktische Techniken f√ºr den Alltag entdecken
                    </p>
                </a>
            </li>

            <!-- Option 4: Find professional support -->
            <li role="listitem">
                <a
                    href="#professional-support"
                    class="option-card"
                    data-option="support"
                    role="button"
                    aria-label="Professionelle Unterst√ºtzung finden - Therapeuten und Beratungsstellen in Ihrer N√§he"
                >
                    <div class="option-card__icon" aria-hidden="true">
                        üë•
                    </div>
                    <h3 class="option-card__label">
                        ...professionelle Unterst√ºtzung finden
                    </h3>
                    <p class="option-card__description">
                        Therapeuten und Beratungsstellen in Ihrer N√§he
                    </p>
                </a>
            </li>

            <!-- Option 5: Connect with others -->
            <li role="listitem">
                <a
                    href="#connect-others"
                    class="option-card"
                    data-option="connect"
                    role="button"
                    aria-label="Mich mit anderen verbinden - Selbsthilfegruppen und Peer-Support"
                >
                    <div class="option-card__icon" aria-hidden="true">
                        ü§ù
                    </div>
                    <h3 class="option-card__label">
                        ...mich mit anderen verbinden
                    </h3>
                    <p class="option-card__description">
                        Selbsthilfegruppen und Peer-Support
                    </p>
                </a>
            </li>

            <!-- Option 6: Learn about treatment -->
            <li role="listitem">
                <a
                    href="#learn-treatment"
                    class="option-card"
                    data-option="treatment"
                    role="button"
                    aria-label="√úber Behandlungsm√∂glichkeiten lernen - Therapieformen und was Sie erwartet"
                >
                    <div class="option-card__icon" aria-hidden="true">
                        üìö
                    </div>
                    <h3 class="option-card__label">
                        ...√ºber Behandlungsm√∂glichkeiten lernen
                    </h3>
                    <p class="option-card__description">
                        Therapieformen und was Sie erwartet
                    </p>
                </a>
            </li>

            <!-- Option 7: Support someone else -->
            <li role="listitem">
                <a
                    href="#support-others"
                    class="option-card"
                    data-option="support-others"
                    role="button"
                    aria-label="Jemanden unterst√ºtzen - Informationen f√ºr Angeh√∂rige und Freunde"
                >
                    <div class="option-card__icon" aria-hidden="true">
                        üíö
                    </div>
                    <h3 class="option-card__label">
                        ...jemanden unterst√ºtzen
                    </h3>
                    <p class="option-card__description">
                        Informationen f√ºr Angeh√∂rige und Freunde
                    </p>
                </a>
            </li>

            <!-- Option 8: Access resources -->
            <li role="listitem">
                <a
                    href="#resources"
                    class="option-card"
                    data-option="resources"
                    role="button"
                    aria-label="Auf Ressourcen zugreifen - Downloads, Videos und weitere Materialien"
                >
                    <div class="option-card__icon" aria-hidden="true">
                        üì¶
                    </div>
                    <h3 class="option-card__label">
                        ...auf Ressourcen zugreifen
                    </h3>
                    <p class="option-card__description">
                        Downloads, Videos und weitere Materialien
                    </p>
                </a>
            </li>
        </ul>
    </section>

    <!-- ===========================
         JAVASCRIPT
         =========================== -->
    <script>
        /**
         * Outcome-Based Help Component
         * Handles keyboard navigation, focus management, and interactions
         */
        (function() {
            'use strict';

            // ===========================
            // CONFIGURATION
            // ===========================
            const CONFIG = {
                selectors: {
                    grid: '.outcome-help__grid',
                    card: '.option-card'
                },
                classes: {
                    selected: 'is-selected',
                    loading: 'is-loading'
                },
                keys: {
                    ARROW_LEFT: 'ArrowLeft',
                    ARROW_RIGHT: 'ArrowRight',
                    ARROW_UP: 'ArrowUp',
                    ARROW_DOWN: 'ArrowDown',
                    HOME: 'Home',
                    END: 'End',
                    ENTER: 'Enter',
                    SPACE: ' '
                }
            };

            // ===========================
            // COMPONENT INITIALIZATION
            // ===========================
            class OutcomeHelp {
                constructor(gridElement) {
                    this.grid = gridElement;
                    this.cards = Array.from(this.grid.querySelectorAll(CONFIG.selectors.card));
                    this.currentFocusIndex = 0;

                    this.init();
                }

                init() {
                    this.setupKeyboardNavigation();
                    this.setupClickHandlers();
                    this.setupAccessibility();
                }

                // ===========================
                // KEYBOARD NAVIGATION
                // ===========================
                setupKeyboardNavigation() {
                    this.cards.forEach((card, index) => {
                        card.addEventListener('keydown', (e) => this.handleKeyDown(e, index));
                    });
                }

                handleKeyDown(event, currentIndex) {
                    const handler = this.getKeyHandler(event.key);

                    if (handler) {
                        event.preventDefault();
                        handler.call(this, currentIndex);
                    }
                }

                getKeyHandler(key) {
                    const handlers = {
                        [CONFIG.keys.ARROW_RIGHT]: this.focusNext,
                        [CONFIG.keys.ARROW_DOWN]: this.focusDown,
                        [CONFIG.keys.ARROW_LEFT]: this.focusPrevious,
                        [CONFIG.keys.ARROW_UP]: this.focusUp,
                        [CONFIG.keys.HOME]: this.focusFirst,
                        [CONFIG.keys.END]: this.focusLast,
                        [CONFIG.keys.ENTER]: this.activateCard,
                        [CONFIG.keys.SPACE]: this.activateCard
                    };

                    return handlers[key];
                }

                focusNext(currentIndex) {
                    const nextIndex = (currentIndex + 1) % this.cards.length;
                    this.focusCard(nextIndex);
                }

                focusPrevious(currentIndex) {
                    const prevIndex = currentIndex === 0 ? this.cards.length - 1 : currentIndex - 1;
                    this.focusCard(prevIndex);
                }

                focusDown(currentIndex) {
                    const columnsPerRow = this.getColumnsPerRow();
                    const nextIndex = currentIndex + columnsPerRow;

                    if (nextIndex < this.cards.length) {
                        this.focusCard(nextIndex);
                    }
                }

                focusUp(currentIndex) {
                    const columnsPerRow = this.getColumnsPerRow();
                    const prevIndex = currentIndex - columnsPerRow;

                    if (prevIndex >= 0) {
                        this.focusCard(prevIndex);
                    }
                }

                focusFirst() {
                    this.focusCard(0);
                }

                focusLast() {
                    this.focusCard(this.cards.length - 1);
                }

                focusCard(index) {
                    this.currentFocusIndex = index;
                    this.cards[index].focus();
                }

                activateCard(currentIndex) {
                    const card = this.cards[currentIndex];
                    const href = card.getAttribute('href');

                    if (href && href !== '#') {
                        card.click();
                    }
                }

                // ===========================
                // RESPONSIVE GRID DETECTION
                // ===========================
                getColumnsPerRow() {
                    const gridStyle = window.getComputedStyle(this.grid);
                    const gridTemplateColumns = gridStyle.gridTemplateColumns;
                    const columns = gridTemplateColumns.split(' ').length;

                    return columns;
                }

                // ===========================
                // CLICK HANDLERS
                // ===========================
                setupClickHandlers() {
                    this.cards.forEach(card => {
                        card.addEventListener('click', (e) => this.handleCardClick(e, card));
                    });
                }

                handleCardClick(event, card) {
                    const option = card.getAttribute('data-option');

                    // Optional: Prevent default for demo purposes
                    // Remove this in production to allow actual navigation
                    event.preventDefault();

                    // Remove selected state from all cards
                    this.cards.forEach(c => c.classList.remove(CONFIG.classes.selected));

                    // Add selected state to clicked card
                    card.classList.add(CONFIG.classes.selected);

                    // Announce selection to screen readers
                    this.announceSelection(card);

                    // Optional: Add loading state
                    // this.setLoadingState(card, true);

                    // Log for demonstration (replace with actual navigation logic)
                    console.log(`Option selected: ${option}`);

                    // In production, you might want to:
                    // - Navigate to the target page
                    // - Open a modal
                    // - Load content dynamically
                    // - Track analytics

                    // Example navigation (uncomment in production):
                    // window.location.href = card.getAttribute('href');
                }

                // ===========================
                // ACCESSIBILITY
                // ===========================
                setupAccessibility() {
                    // Set initial tabindex
                    this.cards.forEach((card, index) => {
                        card.setAttribute('tabindex', index === 0 ? '0' : '-1');
                    });

                    // Update tabindex on focus
                    this.cards.forEach(card => {
                        card.addEventListener('focus', () => {
                            this.cards.forEach(c => c.setAttribute('tabindex', '-1'));
                            card.setAttribute('tabindex', '0');
                        });
                    });
                }

                announceSelection(card) {
                    const label = card.querySelector('.option-card__label').textContent;
                    const announcement = `Ausgew√§hlt: ${label}`;

                    // Create or update live region
                    let liveRegion = document.getElementById('outcome-help-announcer');

                    if (!liveRegion) {
                        liveRegion = document.createElement('div');
                        liveRegion.id = 'outcome-help-announcer';
                        liveRegion.className = 'sr-only';
                        liveRegion.setAttribute('role', 'status');
                        liveRegion.setAttribute('aria-live', 'polite');
                        document.body.appendChild(liveRegion);
                    }

                    liveRegion.textContent = announcement;
                }

                // ===========================
                // LOADING STATE MANAGEMENT
                // ===========================
                setLoadingState(card, isLoading) {
                    if (isLoading) {
                        card.classList.add(CONFIG.classes.loading);
                        card.setAttribute('aria-busy', 'true');
                    } else {
                        card.classList.remove(CONFIG.classes.loading);
                        card.setAttribute('aria-busy', 'false');
                    }
                }

                // ===========================
                // PUBLIC API
                // ===========================
                destroy() {
                    // Clean up event listeners if needed
                    this.cards.forEach(card => {
                        card.replaceWith(card.cloneNode(true));
                    });
                }
            }

            // ===========================
            // AUTO-INITIALIZATION
            // ===========================
            function initOutcomeHelp() {
                const grids = document.querySelectorAll(CONFIG.selectors.grid);

                grids.forEach(grid => {
                    new OutcomeHelp(grid);
                });
            }

            // Initialize when DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initOutcomeHelp);
            } else {
                initOutcomeHelp();
            }

            // Expose to global scope if needed
            window.OutcomeHelp = OutcomeHelp;

        })();
    </script>

</body>
</html>
